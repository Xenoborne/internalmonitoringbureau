<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Report to IMB - Internal Monitoring Bureau</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/png" href="IMB_Logo.png">
</head>
<body>
    <!-- Hero Section -->
    <section class="hero-section">
        <h1 class="hero-title">REPORT TO IMB</h1>
        <p class="hero-subtitle">SECURE REPORTING SYSTEM</p>
    </section>

    <!-- Navigation Bar -->
    <nav class="navbar">
        <div class="navbar-container">
            <a href="index.html" class="nav-logo">IMB - Internal Monitoring Bureau</a>
            
            <ul class="nav-menu">
                <li class="nav-item">
                    <a href="index.html" class="nav-link">Home</a>
                </li>
                <li class="nav-item dropdown">
                    <a href="organization.html" class="nav-link dropdown-toggle">Organization <span class="dropdown-arrow">▼</span></a>
                    <ul class="dropdown-menu">
                        <li><a href="organization.html" class="dropdown-link">Organization Overview</a></li>
                        <li><a href="divisions.html" class="dropdown-link">Divisions</a></li>
                        <li><a href="ranks.html" class="dropdown-link">Rank Structure</a></li>
                        <li><a href="authority.html" class="dropdown-link">Authority & Jurisdiction</a></li>
                    </ul>
                </li>
                <li class="nav-item">
                    <a href="report.html" class="nav-link active">Report</a>
                </li>
                <li class="nav-item">
                    <a href="contact.html" class="nav-link">Contact</a>
                </li>
            </ul>

            <button class="nav-toggle">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>
    </nav>

    <!-- Content -->
    <main class="content">
        <h2>Submit Information to IMB</h2>
        <p class="classification classification-red">SECURE REPORTING INTERFACE - ALL SUBMISSIONS LOGGED</p>
        
        <div class="classification-box" style="background: rgba(0, 212, 255, 0.05);">
            <h3 style="cursor: pointer; user-select: none;" onclick="toggleDropdown('whenToContact')">
                When to Contact IMB <span id="whenToContactArrow" style="float: right;">▼</span>
            </h3>
            <div id="whenToContact" style="display: none; margin-top: 15px;">
                <p>You should report to the Internal Monitoring Bureau if you:</p>
                <ul class="feature-list">
                    <li>Witness policy violations or misconduct</li>
                    <li>Suspect security breaches or compromised personnel</li>
                    <li>Observe unusual or suspicious behavior</li>
                    <li>Detect unauthorized communications or data transfers</li>
                    <li>Have concerns about containment procedures</li>
                    <li>Believe you are being targeted by hostile intelligence</li>
                    <li>Possess information about threats to Foundation security</li>
                </ul>
            </div>
        </div>

        <h2>Anonymous Reporting</h2>
        <div class="classification-box">
            <h3>Protected Whistleblower System</h3>
            <p>The IMB maintains a secure anonymous reporting system for personnel who wish to report concerns without revealing their identity. Anonymous reports are treated with the same priority as identified reports.</p>
            <ul class="feature-list" style="margin-top: 15px;">
                <li><strong>Identity Protection:</strong> Your identity will not be logged or tracked</li>
                <li><strong>No Retaliation:</strong> Retaliation against those who report in good faith is prohibited</li>
                <li><strong>Investigation Priority:</strong> All reports are investigated thoroughly</li>
                <li><strong>Follow-up:</strong> You may provide a contact method for follow-up (optional)</li>
            </ul>
        </div>

        <div class="warning-box warning-box-red">
            <h4>⚠️ FALSE REPORTING WARNING</h4>
            <p>Knowingly submitting false information to the IMB is a severe violation of Foundation protocol. While honest mistakes and good-faith reports are protected, deliberately false or malicious reports will be investigated and may result in disciplinary action.</p>
        </div>

        <h2>Online Reporting Form</h2>
        <div class="classification-box" style="background: rgba(26, 26, 26, 0.95); padding: 30px;">
            <p style="margin-bottom: 20px;"><strong>Note:</strong> To connect this form to Google Sheets, follow the setup instructions below the form.</p>
            
            <form id="imbReportForm" onsubmit="submitReport(event)">
                <div style="margin-bottom: 20px;">
                    <label style="display: block; color: #ffffff; margin-bottom: 8px; font-weight: bold;">Report Type:</label>
                    <select name="reportType" required style="width: 100%; padding: 10px; background: rgba(15, 15, 15, 0.9); border: 1px solid #333; color: #e0e0e0; border-radius: 4px; font-family: 'Courier New', monospace;">
                        <option value="Policy Violation">Policy Violation</option>
                        <option value="Security Breach">Security Breach</option>
                        <option value="Suspicious Behavior">Suspicious Behavior</option>
                        <option value="Unauthorized Communication">Unauthorized Communication</option>
                        <option value="Containment Concern">Containment Concern</option>
                        <option value="Hostile Activity">Hostile Activity</option>
                        <option value="Other">Other</option>
                    </select>
                </div>

                <div style="margin-bottom: 20px;">
                    <label style="display: block; color: #ffffff; margin-bottom: 8px; font-weight: bold;">Urgency Level:</label>
                    <select name="urgencyLevel" required style="width: 100%; padding: 10px; background: rgba(15, 15, 15, 0.9); border: 1px solid #333; color: #e0e0e0; border-radius: 4px; font-family: 'Courier New', monospace;">
                        <option value="Routine">Routine</option>
                        <option value="Elevated">Elevated</option>
                        <option value="Urgent">Urgent</option>
                        <option value="Critical">Critical</option>
                    </select>
                </div>

                <div style="margin-bottom: 20px;">
                    <label style="display: block; color: #ffffff; margin-bottom: 8px; font-weight: bold;">Your Information (Optional for Anonymous Reports):</label>
                    <input type="text" name="reporterName" placeholder="Name (Optional)" style="width: 100%; padding: 10px; background: rgba(15, 15, 15, 0.9); border: 1px solid #333; color: #e0e0e0; border-radius: 4px; font-family: 'Courier New', monospace; margin-bottom: 10px;">
                    <input type="text" name="personnelId" placeholder="Personnel ID (Optional)" style="width: 100%; padding: 10px; background: rgba(15, 15, 15, 0.9); border: 1px solid #333; color: #e0e0e0; border-radius: 4px; font-family: 'Courier New', monospace; margin-bottom: 10px;">
                    <input type="text" name="siteAssignment" placeholder="Site Assignment (Optional)" style="width: 100%; padding: 10px; background: rgba(15, 15, 15, 0.9); border: 1px solid #333; color: #e0e0e0; border-radius: 4px; font-family: 'Courier New', monospace; margin-bottom: 10px;">
                    <input type="text" name="contactMethod" placeholder="Contact Method (Optional)" style="width: 100%; padding: 10px; background: rgba(15, 15, 15, 0.9); border: 1px solid #333; color: #e0e0e0; border-radius: 4px; font-family: 'Courier New', monospace;">
                </div>

                <div style="margin-bottom: 20px;">
                    <label style="display: block; color: #ffffff; margin-bottom: 8px; font-weight: bold;">Incident Details:</label>
                    <textarea name="incidentDetails" required placeholder="Provide detailed information about what you observed or experienced. Include dates, times, locations, and names if applicable..." style="width: 100%; min-height: 200px; padding: 10px; background: rgba(15, 15, 15, 0.9); border: 1px solid #333; color: #e0e0e0; border-radius: 4px; font-family: 'Courier New', monospace; resize: vertical;"></textarea>
                </div>

                <div style="margin-bottom: 20px;">
                    <label style="display: flex; align-items: center; color: #e0e0e0; cursor: pointer;">
                        <input type="checkbox" name="certifyAccuracy" required style="margin-right: 10px; width: 18px; height: 18px;">
                        <span>I certify that the information provided is accurate to the best of my knowledge</span>
                    </label>
                </div>

                <div style="margin-bottom: 20px;">
                    <label style="display: flex; align-items: center; color: #e0e0e0; cursor: pointer;">
                        <input type="checkbox" name="submitAnonymous" id="anonymousCheckbox" style="margin-right: 10px; width: 18px; height: 18px;">
                        <span>Submit as anonymous report (identity will not be logged)</span>
                    </label>
                </div>

                <button type="submit" style="padding: 15px 40px; background: linear-gradient(45deg, #ffffff, #cccccc); color: #0a0a0a; border: none; border-radius: 4px; font-family: 'Courier New', monospace; font-size: 1rem; font-weight: bold; cursor: pointer; text-transform: uppercase; letter-spacing: 1px;" onmouseover="this.style.background='linear-gradient(45deg, #cccccc, #ffffff)'" onmouseout="this.style.background='linear-gradient(45deg, #ffffff, #cccccc)'">
                    SUBMIT REPORT
                </button>

                <div id="submitMessage" style="margin-top: 20px; padding: 15px; border-radius: 4px; display: none;"></div>
            </form>

        <h2>What Happens Next?</h2>
        <div class="classification-box">
            <h3>Report Processing</h3>
            <ul class="feature-list">
                <li><strong>Receipt:</strong> Your report is immediately logged in IMB systems</li>
                <li><strong>Assessment:</strong> An IMB analyst reviews the report and assigns priority</li>
                <li><strong>Investigation:</strong> Appropriate division personnel are assigned to investigate</li>
                <li><strong>Action:</strong> The IMB takes necessary actions based on findings</li>
                <li><strong>Follow-up:</strong> If you provided contact information, you may be contacted for additional details</li>
            </ul>
            <p style="margin-top: 15px;"><strong>Timeline:</strong> Urgent reports receive immediate attention. Routine reports are typically reviewed within 24-48 hours.</p>
        </div>

        <div class="classification-box" style="border-left-color: #ffffff;">
            <h3>Your Protection</h3>
            <p>Foundation policy strictly prohibits retaliation against personnel who report security concerns in good faith. If you experience any form of retaliation after submitting a report, contact the IMB immediately.</p>
            <p style="margin-top: 15px;"><strong>Remember: The IMB is here to protect the Foundation. Your vigilance helps keep everyone safe.</strong></p>
        </div>
    </main>

    <script>
        // Toggle dropdown
        function toggleDropdown(id) {
            const content = document.getElementById(id);
            const arrow = document.getElementById(id + 'Arrow');
            if (content.style.display === 'none') {
                content.style.display = 'block';
                arrow.textContent = '▲';
            } else {
                content.style.display = 'none';
                arrow.textContent = '▼';
            }
        }

        // Submit form to Google Sheets
        function submitReport(event) {
            event.preventDefault();
            
            const form = document.getElementById('imbReportForm');
            const formData = new FormData(form);
            const messageDiv = document.getElementById('submitMessage');
            
            // Check if anonymous
            const isAnonymous = formData.get('submitAnonymous') === 'on';
            
            const data = {
                reportType: formData.get('reportType'),
                urgencyLevel: formData.get('urgencyLevel'),
                reporterName: isAnonymous ? '[ANONYMOUS]' : (formData.get('reporterName') || '[NOT PROVIDED]'),
                personnelId: isAnonymous ? '[ANONYMOUS]' : (formData.get('personnelId') || '[NOT PROVIDED]'),
                siteAssignment: isAnonymous ? '[ANONYMOUS]' : (formData.get('siteAssignment') || '[NOT PROVIDED]'),
                contactMethod: isAnonymous ? '[ANONYMOUS]' : (formData.get('contactMethod') || '[NOT PROVIDED]'),
                incidentDetails: formData.get('incidentDetails'),
                submitAnonymous: isAnonymous ? 'Yes' : 'No'
            };
            
            // Replace with your Google Apps Script Web App URL
            const scriptURL = 'YOUR_SCRIPT_URL_HERE';
            
            // Show submitting message
            messageDiv.style.display = 'block';
            messageDiv.style.background = 'rgba(255, 255, 255, 0.1)';
            messageDiv.style.border = '1px solid #ffffff';
            messageDiv.style.color = '#ffffff';
            messageDiv.textContent = 'Submitting report...';
            
            fetch(scriptURL, {
                method: 'POST',
                body: JSON.stringify(data),
                headers: {
                    'Content-Type': 'application/json'
                }
            })
            .then(response => response.json())
            .then(result => {
                messageDiv.style.background = 'rgba(0, 255, 0, 0.1)';
                messageDiv.style.border = '1px solid #00ff00';
                messageDiv.style.color = '#00ff00';
                messageDiv.textContent = 'Report submitted successfully. Thank you for your vigilance.';
                form.reset();
                setTimeout(() => {
                    messageDiv.style.display = 'none';
                }, 5000);
            })
            .catch(error => {
                messageDiv.style.background = 'rgba(255, 0, 0, 0.1)';
                messageDiv.style.border = '1px solid #ff0000';
                messageDiv.style.color = '#ff0000';
                messageDiv.textContent = 'Error submitting report. Please try again or contact IMB directly.';
            });
        }
    </script>
    <script src="script.js"></script>
</body>

</html>
